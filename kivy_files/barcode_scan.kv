<BarcodeScanScreen>:
    BoxLayout:
        orientation: 'vertical'
        
        MDTopAppBar:
            title: "Scan Barcode"
            left_action_items: [["arrow-left", lambda x: root.go_back_to_add_item()]]
            md_bg_color: 0, 0.5, 0.5, 1
            specific_text_color: 1, 1, 1, 1
            elevation: 10
        
        BoxLayout:
            orientation: 'vertical'
            padding: "10dp"
            
            MDLabel:
                id: detection_label
                text: "Position QR code in view or enter barcode manually"
                size_hint_y: None
                height: "40dp"
                halign: "center"
            
            # Camera preview
            Image:
                id: camera_preview
                allow_stretch: True
                keep_ratio: True
            
            BoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: "56dp"
                padding: "10dp"
                spacing: "10dp"
                
                MDRaisedButton:
                    id: scan_button
                    text: "Enter Manually"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    on_release: root.manual_barcode_entry()
                    md_bg_color: 0, 0.5, 0.5, 1
                    size_hint_x: 1